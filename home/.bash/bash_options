# Only run if we're being sourced
if [ "${BASH_SOURCE[0]}" = "${0}" ]; then
  echo "This is meant to be sourced, not running" >&2
  exit 1
fi

# Only allow this to be sourced once
check_var="DOTBASH_$(basename $(echo ${BASH_SOURCE} | tr '[a-z]' '[A-Z]'))"
[ -v ${check_var} ] && { unset check_var; return; }
export ${check_var}=1
unset check_var

# shopt
# -s set, aka enable
# -u unset, aka disable
# If command is just a dirname, assume cd
# autocd
# Check for stopped/backgrounded jobs before exiting interactive shell
shopt -s checkjobs
# Checks window size after each command, updates LINES/COLUMNS if necessary
shopt -s checkwinsize
# Tries to append all lines of a multi-line command in the same hist entry
shopt -s cmdhist
# Behave like bash $version
# compat(31|32|40|41)
# Append instead of overwrite HISTFILE
# Not sure if this interferes with history or not
shopt -s histappend
